{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Australia Wine Production 2012 - 2023",
  "data": {
    "url": "https://raw.githubusercontent.com/gcha0035/DataVis_2/refs/heads/main/Production_over_Years.csv",
    "format": {
      "type": "csv"
    }
  },
  "width": 500,
  "height": 300,
  "layer": [
    {
      "mark": "area",
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal",
          "axis": {
            "title": "Year"
          }
        },
        "y": {
          "field": "Total (Mill Ltr)",
          "type": "quantitative",
          "axis": {
            "title": "Production Volume (Mill Ltr)"
          }
        },
        "color": {
          "value": "#ba4984"
        },
        "opacity": {"value": 0.7}
      }
    },
    {
      "mark": "area",
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal",
          "axis": {
            "title": "Year"
          }
        },
        "y": {
          "field": "Red Wine (Mill Ltr)",
          "type": "quantitative",
          "axis": {
            "title": "Production Volume (Mill Ltr)"
          }
        },
        "color": {
          "value": "#9B1B30"
        },
        "opacity": {"value": 0.7}
      }
    },
    {
      "mark": "area",
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal"
        },
        "y": {
          "field": "White Wine  (Mill Ltr)",
          "type": "quantitative"
        },
        "color": {
          "value": "#D2B48C"
        },
        "opacity": {"value": 0.7}
      }
    },
    {
      "mark": {
        "type": "point",
        "filled": true,
        "stroke": "#9B1B30",
        "size": 50
      },
      "encoding": {
        "x": {
          "field": "Year",
          "type": "ordinal"
        },
        "y": {
          "field": "Total (Mill Ltr)",
          "type": "quantitative"
        },
        "tooltip": [
          {"field": "Year", "title": "Year"},
          {"field": "Red Wine (Mill Ltr)", "title": "Red Wine Volume (Mill Ltr)"},
          {"field": "White Wine  (Mill Ltr)", "title": "White Wine Volume (Mill Ltr)"},
          {"field": "Total (Mill Ltr)", "title": "Total Volume (Mill Ltr)"}
        ]
      }
    },
    {
      "transform": [
        {
          "window": [{"op": "rank", "as": "ranking"}],
          "sort": [{"field": "Total (Mill Ltr)", "order": "descending"}]
        },
        {
          "filter": "datum.ranking == 1"
        },
        {
          "calculate": "'Peak production due to favorable weather conditions and increased vineyard area.'",
          "as": "text_annotation"
        }
      ],
      "mark": {
        "type": "text",
        "align": "right",
        "dx": 150,
        "dy": -125,
        "baseline": "middle",
        "fontStyle": "italic"
      },
      "encoding": {
        "text": {"field": "text_annotation"}
      }
    }
  ],
  "encoding": {
    "color": {
      "field": "Categories",
      "type": "nominal",
      "scale": {
        "domain": ["Total Wine", "Red Wine", "White Wine"],
        "range": ["#ba4984", "#9B1B30", "#D2B48C"]
      },
      "legend": {
        "title": "Categories"
      }
    }
  }
}
